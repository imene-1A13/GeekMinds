<app-headerlogout></app-headerlogout>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.7.4/css/uikit.min.css" />
</head>

<body>
  
    <div class="container">
        <div class="main-body" style="margin: 30px;">



            <div class="row gutters-sm">
                <div class="col-md-4 mb-3" style="margin-top: 20px;">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                <div class="profile-nav col-md-3">
                                    <div>
                                        <img src="data:image/png;base64,{{user.picture}}" >


                                    </div>
                                    <a href="#">
                                    </a>
                                    <div>
                                
                                        <div>
                                        </div>
                                    </div>
                                    <div class="profile-dot" [ngClass]="{'connected': isLoggedIn}"></div>




                                </div>

                                <div class="mt-3">
                                    <h4>{{user.username}} {{user.lastName}}</h4>
                                    <p class="text-secondary mb-1">{{user.speciality}} </p>
                                    <p class="text-muted font-size-sm">{{user.address}},{{user.country}}</p>
                                    <input type="file" (change)="onFileSelected($event)" accept="image/*">
<button (click)="uploadImage()">Upload</button>
<img *ngIf="imageUrl" [src]="imageUrl" alt="Uploaded Image">

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-8">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Full Name</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{user?.username}} {{user.lastName}}

                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>

                                <div class="col-sm-9 text-secondary">
                                    {{user.email}}

                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Phone</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{user.phone}}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Address</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{user.address}}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Birthdate</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{user.birthdate}}
                                </div>
                            </div>
                            <hr>

                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Sex</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{user.sex}}

                                </div>

                            </div>
                            <hr>
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal">
                                Edit </button>

                            <!-- Modal -->
                            
                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h2 class="modal-title" id="exampleModalLabel">User Profile</h2>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <form [formGroup]="profileForm">
                                                <div class="mb-3">
                                                    <label for="username" class="form-label">Username</label>
                                                    <input type="text" class="form-control" id="username" name="username" formControlName="username">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="lastName" class="form-label">Last Name</label>
                                                    <input type="text" class="form-control" id="lastName" name="lastName" formControlName="lastName">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="speciality" class="form-label">Specialty</label>
                                                    <select class="form-select" id="speciality" name="speciality" formControlName="speciality">
                                                        <option [value]="user.speciality">{{ user.speciality }}</option>
                                                        <option *ngFor="let spec of specialities" [value]="spec">{{ spec }}</option>
                                                    </select>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="phone" class="form-label">Phone</label>
                                                    <input type="text" class="form-control" id="phone" name="phone" formControlName="phone">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="birthdate" class="form-label">Birthdate</label>
                                                    <input type="date" class="form-control" id="birthdate" name="birthdate" formControlName="birthdate">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="country" class="form-label">Country</label>
                                                    <select class="form-select" id="country" name="country" formControlName="country">
                                                        <option [value]="user.country">{{ user.country }}</option>
                                                        <option *ngFor="let spec of countries" [value]="spec">{{ spec }}</option>
                                                    </select>
                                                </div>
                                                <!-- Add more form controls as needed -->
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-primary" (click)="updateUserProfile()">Save changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                        </div>

                    </div>
                   



                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h5 class="d-flex align-items-center mb-3">Courses list</h5>
                    <div class="progress mb-3" style="height: 5px">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 100%" aria-valuenow="100"
                            aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="col-lg-12"  *ngIf="listcourses.length > 0">
                        <div class="naccs">
                            <div class="tabs">
                                <div class="row" >

                                    <div  *ngFor="let course of listcourses" class=" col-xl-5 course-card  mb-4" >
                                        <div class="card border shadow">
                                            <div class="card-body">

                                                <img src="data:image/png;base64,{{course.image}}">
                                                <!-- *ngFor="let course of listcourses" Badge and favorite -->
                                                <div class="d-flex justify-content-between mb-2">
                                                    <span
                                                        style="font-style: italic;">{{course.domain}}/{{course.category}}</span>
                                                    <span style="font-style: italic;">{{course.level}}</span>
                                                    <span>{{course.publish_date}}</span>


                                                </div>
                                                <!-- Title -->
                                                <h5 class="card-title"><a href="#"
                                                        class="text-dark">{{course.name}}</a></h5>

                                                <p>{{course.description}}</p>
                                                <!-- Rating star -->
                                                <div class="d-flex align-items-center mb-3">
                                                    <ul class="list-inline m-0">



                                                    </ul>
                                                </div>
                                                <!-- Duration and lectures -->
                                                <div class="d-flex justify-content-between">
                                                    <span class="text-muted">{{course.duree}} <i
                                                            class="far fa-clock text-danger me-2"></i></span>
                                                    <span class="text-muted">
                                                        <i
                                                            class="fas fa-user text-orange me-2"></i>{{course.numstudents}}
                                                        Participants
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="card-footer bg-transparent border-text-mute p-3">
                                                <div class="row row-cols-2">
                                                    <div class="col-md-8">
                                                        <a
                                                            [routerLink]="['/tutorprofile', 'add-details', course.name]">View
                                                            Details</a>

                                                    </div>
                                                    <div class="col-md-4">
                                                        <button class="btn btn-primary">get certificate</button>
                                                    
                                                    </div>


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>